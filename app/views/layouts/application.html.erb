<!DOCTYPE html>
<html>
  <head>
    <title><%= local_assigns.dig(:program)&.name&.titleize %> CodeTogether</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag :application, media: :all %>
    <%= javascript_pack_tag :application %>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Space+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/styles/default.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/styles/github.min.css">
  </head>

  <body>
    <div class="main-container">
      <%= yield %>
    </div>
    <div class="footer">Made with love for RubyConf2020 by <a href="https://github.com/MattRice12" target="_blank">Matt Rice</a> and <a href="https://justinherrick.com/" target="_blank">Justin Herrick</a></div>
    <% flash.each do |type, msg| %>
      <div class="flash-<%=type%>">
        <%= msg %>
      </div>
    <% end %>
    <% if Rails.env.development? && params[:debug].present? %>
      <div class="debug">
        <%= link_to :home, :home %>
        <%= link_to :admin, :admin_root %>
        <pre><%= local_assigns.dig(:program)&.attributes&.dig("settings")&.inspect %></pre>
      </div>
    <% end %>
  </body>
</html>
